# ๐ Endpoint: `PATCH /api/accounts/v1/profile/update-phone/verify/`

### ๐ฏ ฺฉุงุฑุจุฑุฏ:

ุงู API ุจุฑุง ุชุฃุฏ ฺฉุฏ OTP ู ุชฺฉูู ูุฑุขูุฏ ุชุบุฑ ุดูุงุฑู ุชููู ฺฉุงุฑุจุฑ ุงุณุชูุงุฏู ูโุดูุฏ. ฺฉุงุฑุจุฑ ูพุณ ุงุฒ ุฏุฑุงูุช ฺฉุฏ 6 ุฑูู ุฏุฑ ูพุงูฺฉุ ุจุงุฏ ฺฉุฏ ู ุดูุงุฑู ุชููู ุฌุฏุฏ ุฑุง ุงุฑุณุงู ฺฉูุฏ.

> ุงู endpoint **ูุฑุญูู ุฏูู** ุฏุฑ ูุฑุขูุฏ ุชุบุฑ ุดูุงุฑู ุชููู ุงุณุช ู ูุงุฒ ุจู **ุงุญุฑุงุฒ ููุช** ุฏุงุฑุฏ.

---

## ๐ ุดุฑุงุท ุงุณุชูุงุฏู

* โ ููุท ฺฉุงุฑุจุฑุงู **(authenticated)** ูุฌุงุฒ ุจู ุงุณุชูุงุฏู ูุณุชูุฏ.
* โ ุดูุงุณู ุจุงุฏ **ุดูุงุฑู ุชููู ูุนุชุจุฑ ุงุฑุงู** ุจุงุดุฏ (ูู ุงูู).
* โ ุดูุงุฑู ุชููู ุฌุฏุฏ ุจุงุฏ **ููุญุตุฑ ุจู ูุฑุฏ** ุจุงุดุฏ (ูุจูุงู ุซุจุช ูุดุฏู).
* โ ฺฉุฏ OTP ุจุงุฏ **6 ุฑูู ุนุฏุฏ** ู **ูุนุชุจุฑ** ุจุงุดุฏ.
* ๐ฆ ุงู endpoint ุชุญุช **ูุญุฏูุฏุช ูุฑุฎ (Rate Limiting)** ุงุณุช.

---

## ๐ ุณุทุญ ุฏุณุชุฑุณ

| ุดุฑุท                          | ูุถุนุช                        |
| ---------------------------- | ---------------------------- |
| ูุงุฒ ุจู ูุงฺฏูุ               | โ ุจูู (ฺฉุงุฑุจุฑุงู ุงุญุฑุงุฒ ููุช ุดุฏู) |
| ูุญุฏูุฏุช ูุฑุฎ (Throttle) ูุนุงูุ | โ ุจูู                        |

---

## ๐จ ุฏุฑุฎูุงุณุช

### โค Method: `PATCH`

### โค URL: `/api/accounts/v1/profile/update-phone/verify/`

---

### Headers

| ฺฉูุฏ          | ููุฏุงุฑ              |
| ------------- | ------------------ |
| Content-Type  | `application/json` |
| Authorization | `Bearer YOUR_TOKEN` |

---

### Body (JSON)

```json
{
  "identity": "09987654321",
  "otp": "123456"
}
```

| ููุฏ       | ููุน    | ุงูุฒุงูุ | ุชูุถุญ                                        |
| ---------- | ------ | ------- | -------------------------------------------- |
| `identity` | string | โ       | ุดูุงุฑู ุชููู ุฌุฏุฏ ฺฉู ุจุงุฏ ุชุฃุฏ ุดูุฏ            |
| `otp`      | string | โ       | ฺฉุฏ ุชุฃุฏ 6 ุฑูู ุฏุฑุงูุช ุดุฏู ุงุฒ ูพุงูฺฉ         |

---

## ๐งช ูููููโูุง ูุนุชุจุฑ

#### โ ุชุฃุฏ ุดูุงุฑู ุชููู ุฌุฏุฏ:

```json
{ 
  "identity": "09123456789",
  "otp": "654321"
}
```

---

## โ ูพุงุณุฎ ูููู

### โ๏ธ Status Code: `200 OK`

```json
{
  "detail": "ุดูุงุฑู ุชููู ุจุง ููููุช ุชุบุฑ ฺฉุฑุฏ."
}
```

---

## โ ูพุงุณุฎโูุง ุฎุทุง

| ฺฉุฏ ูุถุนุช | ุชูุถุญ                                | ููููู ูพุงุณุฎ                                                                                                      |
| -------- | ------------------------------------ | --------------------------------------------------------------------------------------------------------------- |
| `400`    | ุฎุทุงูุง ุงุนุชุจุงุฑุณูุฌ ฺฉุฏ OTP ุง ุดูุงุฑู    | ๐ ูููููโูุง ุฏุฑ ุงุฏุงูู                                                                                            |
| `401`    | ฺฉุงุฑุจุฑ ุงุญุฑุงุฒ ููุช ูุดุฏู               | `{ "detail": "Authentication credentials were not provided." }`                                                 |
| `429`    | ุนุจูุฑ ุงุฒ ุญุฏ ูุฌุงุฒ ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุช        | `{ "detail": "ุดูุง ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ ุฏุฑุฎูุงุณุช ุงุฑุณุงู ฺฉุฑุฏูโุงุฏ.", "available_in_seconds": 42 }`                      |
| `500`    | ุฎุทุง ุฏุงุฎู ุณุฑูุฑ ุง ูุดฺฉู ุบุฑููุชุธุฑู    | `{ "detail": "ุฎุทุง ูุงุดูุงุฎุชูโุง ุฑุฎ ุฏุงุฏู ุงุณุช. ูุทูุงู ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ." }`                                         |

---

### ๐ ููููู ูพุงุณุฎ 400

#### โ ุนุฏู ุงุฑุณุงู ุดูุงุณู:

```json
{
  "identity": ["ูุงุฑุฏ ฺฉุฑุฏู ุงูู ุง ุดูุงุฑู ุชููู ุงูุฒุงู ุงุณุช."]
}
```

#### โ ุดูุงุณู ุฎุงู:

```json
{
  "identity": ["ูุทูุงู ุงูู ุง ุดูุงุฑู ุชููู ุฑุง ูุงุฑุฏ ฺฉูุฏ."]
}
```

#### โ ุดูุงุฑู ุชููู ูุงูุนุชุจุฑ:

```json
{
  "identity": ["ูุฑูุฏ ูุงูุนุชุจุฑ ุงุณุช. ูุทูุงู ฺฉ ุงูู ุง ุดูุงุฑู ุชููู ูุนุชุจุฑ ูุงุฑุฏ ฺฉูุฏ."]
}
```

#### โ ุดูุงุฑู ุชฺฉุฑุงุฑ:

```json
{
  "identity": ["ุงู ุดูุงุฑู ูุจูุงู ุซุจุช ุดุฏู ุงุณุช."]
}
```

#### โ ุนุฏู ุงุฑุณุงู ฺฉุฏ OTP:

```json
{
  "otp": ["ฺฉุฏ ุชุงุฏ ุงูุฒุงู ุงุณุช."]
}
```

#### โ ฺฉุฏ OTP ุฎุงู:

```json
{
  "otp": ["ฺฉุฏ ุชุงุฏ ููโุชูุงูุฏ ุฎุงู ุจุงุดุฏ."]
}
```

#### โ ฺฉุฏ OTP ฺฉูุชุงู ุง ุจููุฏ:

```json
{
  "otp": ["ฺฉุฏ ุชุงุฏ ุจุงุฏ 6 ุฑูู ุจุงุดุฏ."]
}
```

#### โ ฺฉุฏ OTP ุบุฑุนุฏุฏ:

```json
{
  "otp": ["ฺฉุฏ ุชุฃุฏ ุจุงุฏ ููุท ุดุงูู ุงุฑูุงู ุจุงุดุฏ."]
}
```

#### โ ฺฉุฏ ุชุงุฏ ูููุถ ุดุฏู:

```json
{
  "otp": ["ฺฉุฏ ูููุถ ุดุฏู ุงุณุช. ูุทูุงู ุฏูุจุงุฑู ุฏุฑุฎูุงุณุช ุฏูุฏ."]
}
```

#### โ ฺฉุฏ ูุงุฏุฑุณุช:

```json
{
  "otp": ["ฺฉุฏ ูุงุฑุฏ ุดุฏู ูุงุฏุฑุณุช ุงุณุช."]
}
```

---
