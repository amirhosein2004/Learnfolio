# 📌 Endpoint: `GET /api/accounts/v1/profile/me/`

### 🎯 کاربرد:

این API برای دریافت اطلاعات پروفایل کاربر احراز هویت شده استفاده می‌شود. اطلاعات شامل نام کامل، ایمیل و شماره تلفن کاربر است.

> این endpoint نیاز به **احراز هویت** دارد و فقط کاربران وارد شده می‌توانند از آن استفاده کنند.

---

## 📋 شرایط استفاده

* ✅ فقط کاربران **(authenticated)** مجاز به استفاده هستند.
* 🚦 این endpoint تحت **محدودیت نرخ (Rate Limiting)** است.

---

## 🔐 سطح دسترسی

| شرط                          | وضعیت                        |
| ---------------------------- | ---------------------------- |
| نیاز به لاگین؟               | ✅ بله (کاربران احراز هویت شده) |
| محدودیت نرخ (Throttle) فعال؟ | ✅ بله                        |

---

## 📨 درخواست

### ➤ Method: `GET`

### ➤ URL: `/api/accounts/v1/profile/me/`

---

### Headers

| کلید          | مقدار              |
| ------------- | ------------------ |
| Authorization | `Bearer YOUR_TOKEN` |

---

## ✅ پاسخ موفق

### ✔️ Status Code: `200 OK`

```json
{
  "full_name": "احمد محمدی",
  "email": "ahmad@example.com",
  "phone_number": "09123456789"
}
```

| فیلد           | نوع    | توضیح                                    |
| -------------- | ------ | ---------------------------------------- |
| `full_name`    | string | نام و نام خانوادگی کاربر (ممکن است خالی باشد) |
| `email`        | string | آدرس ایمیل کاربر                         |
| `phone_number` | string | شماره تلفن کاربر (ممکن است خالی باشد)      |

### 🔄 نمونه پاسخ با مقادیر خالی:

```json
{
  "full_name": "",
  "email": "user@example.com",
  "phone_number": ""
}
```

---

## ❌ پاسخ‌های خطا

| کد وضعیت | توضیح                                | نمونه پاسخ                                                                                                      |
| -------- | ------------------------------------ | --------------------------------------------------------------------------------------------------------------- |
| `401`    | کاربر احراز هویت نشده               | `{ "detail": "Authentication credentials were not provided." }`                                                 |
| `429`    | عبور از حد مجاز تعداد درخواست        | `{ "detail": "شما بیش از حد مجاز درخواست ارسال کرده‌اید.", "available_in_seconds": 42 }`                      |
| `500`    | خطای داخلی سرور یا مشکل غیرمنتظره    | `{ "detail": "خطای ناشناخته‌ای رخ داده است. لطفاً دوباره تلاش کنید." }`                                         |

---

# 📌 Endpoint: `PATCH /api/accounts/v1/profile/me/`

### 🎯 کاربرد:

این API برای به‌روزرسانی نام و نام خانوادگی کاربر احراز هویت شده استفاده می‌شود.

> این endpoint نیاز به **احراز هویت** دارد و فقط کاربران وارد شده می‌توانند نام خود را تغییر دهند.

---

## 📋 شرایط استفاده

* ✅ فقط کاربران **(authenticated)** مجاز به استفاده هستند.
* ✅ نام و نام خانوادگی باید بین **2 تا 100 کاراکتر** باشد.
* ✅ نام و نام خانوادگی نمی‌تواند **خالی** باشد.
* 🚦 این endpoint تحت **محدودیت نرخ (Rate Limiting)** است.

---

## 🔐 سطح دسترسی

| شرط                          | وضعیت                        |
| ---------------------------- | ---------------------------- |
| نیاز به لاگین؟               | ✅ بله (کاربران احراز هویت شده) |
| محدودیت نرخ (Throttle) فعال؟ | ✅ بله                        |

---

## 📨 درخواست

### ➤ Method: `PATCH`

### ➤ URL: `/api/accounts/v1/profile/me/` 

---

### Headers

| کلید          | مقدار              |
| ------------- | ------------------ |
| Content-Type  | `application/json` |
| Authorization | `Bearer YOUR_TOKEN` |

---

### Body (JSON)

```json
{
  "full_name": "احمد محمدی جدید"
}
```

| فیلد        | نوع    | الزامی؟ | توضیح                                        |
| ----------- | ------ | ------- | -------------------------------------------- |
| `full_name` | string | ✅       | نام و نام خانوادگی جدید (2-100 کاراکتر)     |

---

## 🧪 نمونه‌های معتبر

#### ✅ به‌روزرسانی نام:

```json
{ 
  "full_name": "علی احمدی" 
}
```

#### ✅ نام با فاصله:

```json
{ 
  "full_name": "محمد رضا کریمی" 
}
```

---

## ✅ پاسخ موفق

### ✔️ Status Code: `200 OK`

```json
{
  "detail": "نام و نام خانوادگی با موفقیت تغییر یافت."
}
```

---

## ❌ پاسخ‌های خطا

| کد وضعیت | توضیح                                | نمونه پاسخ                                                                                                      |
| -------- | ------------------------------------ | --------------------------------------------------------------------------------------------------------------- |
| `400`    | خطاهای اعتبارسنجی نام               | 👇 نمونه‌ها در ادامه                                                                                            |
| `401`    | کاربر احراز هویت نشده               | `{ "detail": "Authentication credentials were not provided." }`                                                 |
| `429`    | عبور از حد مجاز تعداد درخواست        | `{ "detail": "شما بیش از حد مجاز درخواست ارسال کرده‌اید.", "available_in_seconds": 42 }`                      |
| `500`    | خطای داخلی سرور یا مشکل غیرمنتظره    | `{ "detail": "خطای ناشناخته‌ای رخ داده است. لطفاً دوباره تلاش کنید." }`                                         |

---

### 📉 نمونه پاسخ 400

#### ❗ نام خالی:

```json
{
  "full_name": ["نام و نام خانوادگی نمی تواند خالی باشد."]
}
```

#### ❗ نام کوتاه:

```json
{
  "full_name": ["نام و نام خانوادگی باید حداقل 2 حرف باشد."]
}
```

#### ❗ نام طولانی:

```json
{
  "full_name": ["نام و نام خانوادگی باید حداکثر 100 حرف باشد."]
}
```

---

# 📌 Endpoint: `DELETE /api/accounts/v1/profile/me/`

### 🎯 کاربرد:

این API برای حذف دائمی حساب کاربری استفاده می‌شود. این عملیات **غیرقابل بازگشت** است و تمام اطلاعات کاربر به طور کامل حذف خواهد شد.

> ⚠️ **هشدار**: این عملیات غیرقابل بازگشت است و تمام داده‌های کاربر برای همیشه حذف خواهد شد.

---

## 📋 شرایط استفاده

* ✅ فقط کاربران **(authenticated)** مجاز به استفاده هستند.
* ⚠️ این عملیات **غیرقابل بازگشت** است.
* 🗑️ تمام اطلاعات کاربر به طور دائم حذف می‌شود.
* 🚦 این endpoint تحت **محدودیت نرخ (Rate Limiting)** است.

---

## 🔐 سطح دسترسی

| شرط                          | وضعیت                        |
| ---------------------------- | ---------------------------- |
| نیاز به لاگین؟               | ✅ بله (کاربران احراز هویت شده) |
| محدودیت نرخ (Throttle) فعال؟ | ✅ بله                        |

---

## 📨 درخواست

### ➤ Method: `DELETE`

### ➤ URL: `/api/accounts/v1/profile/me/`

---

### Headers

| کلید          | مقدار              |
| ------------- | ------------------ |
| Authorization | `Bearer YOUR_TOKEN` |

---

## ✅ پاسخ موفق

### ✔️ Status Code: `200 OK`

```json
{
  "detail": "حساب کاربری شما با موفقیت حذف شد."
}
```

---

## ❌ پاسخ‌های خطا

| کد وضعیت | توضیح                                | نمونه پاسخ                                                                                                      |
| -------- | ------------------------------------ | --------------------------------------------------------------------------------------------------------------- |
| `401`    | کاربر احراز هویت نشده               | `{ "detail": "Authentication credentials were not provided." }`                                                 |
| `429`    | عبور از حد مجاز تعداد درخواست        | `{ "detail": "شما بیش از حد مجاز درخواست ارسال کرده‌اید.", "available_in_seconds": 42 }`                      |
| `500`    | خطای داخلی سرور یا مشکل غیرمنتظره    | `{ "detail": "خطای ناشناخته‌ای رخ داده است. لطفاً دوباره تلاش کنید." }`                                         |

---
