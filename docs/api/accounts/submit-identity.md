# ๐ Endpoint: `POST /api/auth/submit-identity/`

### ุชูุถุญุงุช
ุงู Endpoint ุจุฑุง ุฏุฑุงูุช ุดูุงุณูโ ฺฉุงุฑุจุฑ (ุงูู ุง ุดูุงุฑู ููุจุงู ุงุฑุงู) ุทุฑุงุญ ุดุฏู ู ูพุณ ุงุฒ ุจุฑุฑุณุ ฺฉ **ฺฉุฏ ุชุฃุฏ (OTP)** ุง **ููฺฉ ุชุฃุฏ** ุจุฑุง ฺฉุงุฑุจุฑ ุงุฑุณุงู ูโฺฉูุฏ:

- ุงฺฏุฑ ูุฑูุฏ **ุงูู** ุจุงุดุฏุ ููฺฉ ุง ฺฉุฏ ุงุฒ ุทุฑู **ุงูู** ุงุฑุณุงู ูโุดูุฏ.
- ุงฺฏุฑ ูุฑูุฏ **ุดูุงุฑู ููุจุงู** ุจุงุดุฏุ ฺฉุฏ ุงุฒ ุทุฑู **ูพุงูฺฉ** ุงุฑุณุงู ุฎูุงูุฏ ุดุฏ.
- ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุณูุกุงุณุชูุงุฏูุ ูุญุฏูุฏุช ูุฑุฎ (Rate Limiting) ุจุฑุง ุงู ุฏุฑุฎูุงุณุช ูุนุงู ุงุณุช.
- ฺฉูพฺุง Cloudflare Turnstile ุจุงุฏ ุฏุฑ ูุฑ ุฏุฑุฎูุงุณุช ุงุฑุณุงู ุดูุฏ.

---

## ๐จ Request

- **Method**: `POST`  
- **URL**: `{{base_url}}/api/auth/submit-identity/`

### Headers

| ฺฉูุฏ           | ููุฏุงุฑ            |
|----------------|------------------|
| Content-Type   | application/json |

---

### Body (raw, JSON)

```json
{
  "identity": "09380186731",
  "cf-turnstile-response": "TOKEN_FROM_CLIENT"
}
````
๐ ูฺฉุชู: ููุฏ cf-turnstile-response ุญุงู ุชูฺฉู ฺฉูพฺุง Turnstile ุงุฒ ุณูุช ฺฉูุงูุช ุงุณุช ู ุงุฌุจุงุฑ ูโุจุงุดุฏ.

๐ ููุฏุงุฑ `identity` ูโุชูุงูุฏ ฺฉ ุงุฒ ููุงุฑุฏ ุฒุฑ ุจุงุดุฏ:

* ฺฉ **ุดูุงุฑู ููุจุงู ุงุฑุงู** (ูุฑูุช: `09xxxxxxxxx`)
* ุง ฺฉ **ุงูู ูุนุชุจุฑ**

---

### ๐งช ูููููโูุง ูุนุชุจุฑ

#### ุดูุงุฑู ููุจุงู:

```json
{ 
  "identity": "09380186731", 
  "cf-turnstile-response": "TOKEN" 
}
```

#### ุงูู:

```json
{ 
  "identity": "example@example.com", 
  "cf-turnstile-response": "TOKEN" 
}
```

---

## โ ูพุงุณุฎ ูููู

* **ฺฉุฏ ูุถุนุช**: `200 OK`
* **ุจุฏูู ูพุงุณุฎ**:

ุงฺฏุฑ ูุฑูุฏ ููุจุงู ุจุงุดุฏ:

```json
{
  "detail": "ฺฉุฏ ุชุงุฏ ุจู ุดูุงุฑู ููุจุงู ุดูุง ุงุฑุณุงู ุดุฏ."
}
```

ุงฺฏุฑ ูุฑูุฏ ุงูู ุจุงุดุฏ:

```json
{
  "detail": "ููฺฉ ุชุงุฏ ุจู ุงูู ุดูุง ุงุฑุณุงู ุดุฏ."
}
```

---

## โ ูพุงุณุฎโูุง ุฎุทุง

| ฺฉุฏ ูุถุนุช | ุชูุถุญ ุฎุทุง                                               | ุจุฏูู ูพุงุณุฎ ูุซุงู                                                                                                                         |
| -------- | ------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| `400`    | ูุฑูุฏ ูุงูุนุชุจุฑ (ุงูู ุง ุดูุงุฑู ุงุดุชุจุงู)<br>ุง ฺฉูพฺุง ูุงูููู | `{ "detail": "ุงุนุชุจุงุฑุณูุฌ ฺฉูพฺุง ูุงูููู ุจูุฏ." }`<br>`{ "identity": ["ูุฑูุฏ ูุงูุนุชุจุฑ ุงุณุช. ูุทูุงู ฺฉ ุงูู ุง ุดูุงุฑู ุชููู ูุนุชุจุฑ ูุงุฑุฏ ฺฉูุฏ"] }` |
| `429`    | ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ (Rate limiting)                          | `{ "detail": "ุฏุฑุฎูุงุณุชโูุง ุดูุง ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ ุงุณุช. ูุทูุง ฺฉู ุตุจุฑ ฺฉูุฏ." }`                                                               |
| `500`    | ุฎุทุง ุณุฑูุฑ (ุฎุทุง ูุงุดูุงุฎุชู)                               | `{ "detail": "ุฎุทุง ูุงุดูุงุฎุชูโุง ุฑุฎ ุฏุงุฏู ุงุณุช ูุทูุง ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ" }`                                                                   ||